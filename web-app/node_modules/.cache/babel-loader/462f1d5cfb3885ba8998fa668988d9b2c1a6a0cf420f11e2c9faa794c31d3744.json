{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      searchText: '',\n      questionArrayList: [],\n      isShowCard: false,\n      data: [{\n        id: 1,\n        type: 'campus',\n        question: 'Campus Map (Coventry Campus)'\n      }, {\n        id: 2,\n        type: 'campus',\n        question: 'How to get your first student card'\n      }, {\n        id: 3,\n        type: 'campus',\n        question: 'The phone numbers of other departments in the school'\n      }, {\n        id: 4,\n        type: 'campus',\n        question: 'What can you do at the Hub'\n      }, {\n        id: 5,\n        type: 'campus',\n        question: 'school news'\n      }, {\n        id: 6,\n        type: 'academic',\n        question: 'Coventry University paper format'\n      }, {\n        id: 7,\n        type: 'academic',\n        question: 'Academic extension/make-up examination'\n      }, {\n        id: 8,\n        type: 'academic',\n        question: 'Rules of academic ethics and punishment'\n      }, {\n        id: 9,\n        type: 'academic',\n        question: 'How to use the school hardware / software facilities'\n      }, {\n        id: 10,\n        type: 'academic',\n        question: 'Rules of graduation degree assessment'\n      }, {\n        id: 11,\n        type: 'life',\n        question: 'Rent a dormitory on campus'\n      }, {\n        id: 12,\n        type: 'life',\n        question: 'How to deal with interpersonal relationships'\n      }, {\n        id: 13,\n        type: 'life',\n        question: 'How to protect property security'\n      }, {\n        id: 14,\n        type: 'life',\n        question: 'How to keep healthy (nearby hospital)'\n      }, {\n        id: 15,\n        type: 'life',\n        question: 'Food in the Coventry'\n      }, {\n        id: 16,\n        type: 'other',\n        question: 'SOLAR -- Check your results/ Information'\n      }, {\n        id: 17,\n        type: 'other',\n        question: 'NOVA -- View your Your Assessments and get your Coursework Submission Coversheets/ Get your student letter'\n      }, {\n        id: 18,\n        type: 'other',\n        question: 'Time table -- Check your course times and specific information'\n      }, {\n        id: 19,\n        type: 'other',\n        question: 'MODEL --  Check the specific content of your course'\n      }, {\n        id: 20,\n        type: 'other',\n        question: 'Moodle -- Coventry University online teaching platform'\n      }],\n      record: []\n    };\n  },\n  mounted() {\n    if (JSON.parse(localStorage.getItem(\"searchRecord\")).length > 0) {\n      this.record = JSON.parse(localStorage.getItem(\"searchRecord\"));\n    }\n  },\n  methods: {\n    toInformation(type) {\n      this.$router.push({\n        path: '/info',\n        query: {\n          type: type\n        }\n      });\n    },\n    onSearch() {\n      this.$router.push({\n        path: '/preparation',\n        query: {\n          searchText: this.searchText\n        }\n      });\n      if (this.record.length > 5) {\n        this.record.shift();\n      }\n      this.record.push(this.searchText);\n      localStorage.setItem(\"searchRecord\", JSON.stringify(this.record));\n    },\n    query(list, keyWord, attribute) {\n      const reg = new RegExp(`(${keyWord})`, \"gi\"); // 创建正则表达式\n      const arr = [];\n      for (let i = 0; i < list.length; i++) {\n        if (reg.test(list[i][attribute])) {\n          let replace = '<span style=\"color:#FD463E;font-weight:bold;\">$1</span>';\n          arr.push(list[i][attribute].replace(reg, replace));\n        }\n      }\n      return arr;\n    },\n    onChange() {\n      this.isShowCard = true;\n      const that = this;\n      if (this.searchText) {\n        setTimeout(function () {\n          that.questionArrayList = that.query(that.data, that.searchText, 'question');\n        }, 1000);\n        console.log(that.questionArrayList);\n      } else {\n        this.questionArrayList = [];\n        this.isShowCard = false;\n      }\n    },\n    select(item) {\n      let matchTag = /<(?:.|s)*?>/g;\n      this.searchText = item.replace(matchTag, \"\");\n      this.isShowCard = false;\n    }\n  }\n};","map":{"version":3,"mappings":";AA2DA;EACAA;IACA;MACAC;MACAC;MACAC;MACAH,OACA;QACAI;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,EAEA;MACAC;IACA;EACA;EACAC;IACA;MACA;IACA;EACA;EACAC;IACAC;MACA;QACAC;QACAC;UACAP;QACA;MACA;IACA;IACAQ;MACA;QACAF;QACAC;UACAX;QACA;MACA;MACA;QACA;MACA;MACA;MACAa;IACA;IACAF;MACA;MACA;MACA;QACA;UACA;UACAG;QACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;QACAC;UACAC;QACA;QACAC;MACA;QACA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;EACA;AACA","names":["data","searchText","questionArrayList","isShowCard","id","type","question","record","mounted","methods","toInformation","path","query","onSearch","localStorage","arr","onChange","setTimeout","that","console","select"],"sourceRoot":"src/views","sources":["main.vue"],"sourcesContent":["<template>\n  <div class=\"main-page\">\n    <a-layout >\n      <div class=\"img-box\"><img src=\"../static/logo.png\" width=\"600px\" height=\"100px\"></div>\n      <a-layout-header class=\"header\">\n        <div class=\"search-box\">\n          <div class=\"title\">Wayfinder</div>\n          <a-input-search v-model=\"searchText\" placeholder=\"Please enter keywords\" size=\"large\" @search=\"onSearch\" @change=\"onChange\">\n            <a-icon slot=\"prefix\" type=\"form\" />\n            <a-button slot=\"enterButton\">\n              Search\n            </a-button>\n          </a-input-search>\n          <a-card v-show=\"isShowCard\" class=\"search-card\">\n            <div v-for=\"(item,index) in questionArrayList\" :key=\"index\">\n              <div v-html=\"item\" @click=\"select(item)\"></div>\n            </div>\n          </a-card>\n          <div class=\"sub-title\">If you have a problem you can't solve, please contact us at <a>xxxx@uni.coventry.ac.uk</a></div>\n        </div>\n      </a-layout-header>\n      <a-layout-content class=\"content\">\n        <a-row type=\"flex\" align=\"middle\" justify=\"center\" :gutter=\"[100,50]\">\n          <a-col>\n            <div class=\"content-item\">\n              <img src=\"../static/campus.jpg\" @click=\"toInformation('campus')\">\n              <div class=\"img-text\" @click=\"toInformation('campus')\">Campus Information</div>\n            </div>\n          </a-col>\n          <a-col>\n            <div class=\"content-item\">\n              <img src=\"../static/academic.jpg\" @click=\"toInformation('academic')\">\n              <div class=\"img-text\" @click=\"toInformation('academic')\">Academic information</div>\n            </div>\n          </a-col>\n        </a-row>\n        <a-row type=\"flex\" align=\"middle\" justify=\"center\" :gutter=\"[100,50]\">\n          <a-col>\n            <div class=\"content-item\">\n              <img src=\"../static/life.jpg\" @click=\"toInformation('life')\">\n              <div class=\"img-text\" @click=\"toInformation('life')\">Life information</div>\n            </div>\n          </a-col>\n          <a-col>\n            <div class=\"content-item\">\n              <img src=\"../static/other.jpg\" @click=\"toInformation('other')\">\n              <div class=\"img-text\" @click=\"toInformation('other')\">Other school websites</div>\n            </div>\n          </a-col>\n        </a-row>\n        <a-card title=\"Search record\" class=\"record-card\">\n          <p v-for=\"(item,index) in record\" :key=\"index\">{{ item }}</p>\n        </a-card>\n      </a-layout-content>\n    </a-layout>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      searchText: '',\n      questionArrayList:[],\n      isShowCard: false,\n      data: [\n        {\n          id: 1,\n          type: 'campus',\n          question: 'Campus Map (Coventry Campus)'\n        },\n        {\n          id: 2,\n          type: 'campus',\n          question: 'How to get your first student card'\n        },\n        {\n          id: 3,\n          type: 'campus',\n          question: 'The phone numbers of other departments in the school'\n        },\n        {\n          id: 4,\n          type: 'campus',\n          question: 'What can you do at the Hub'\n        },\n        {\n          id: 5,\n          type: 'campus',\n          question: 'school news'\n        },\n        {\n          id: 6,\n          type: 'academic',\n          question: 'Coventry University paper format'\n        },\n        {\n          id: 7,\n          type: 'academic',\n          question: 'Academic extension/make-up examination'\n        },\n        {\n          id: 8,\n          type: 'academic',\n          question: 'Rules of academic ethics and punishment'\n        },\n        {\n          id: 9,\n          type: 'academic',\n          question: 'How to use the school hardware / software facilities'\n        },\n        {\n          id: 10,\n          type: 'academic',\n          question: 'Rules of graduation degree assessment'\n        },\n        {\n          id: 11,\n          type: 'life',\n          question: 'Rent a dormitory on campus'\n        },\n        {\n          id: 12,\n          type: 'life',\n          question: 'How to deal with interpersonal relationships'\n        },\n        {\n          id: 13,\n          type: 'life',\n          question: 'How to protect property security'\n        },\n        {\n          id: 14,\n          type: 'life',\n          question: 'How to keep healthy (nearby hospital)'\n        },\n        {\n          id: 15,\n          type: 'life',\n          question: 'Food in the Coventry'\n        },\n        {\n          id: 16,\n          type: 'other',\n          question: 'SOLAR -- Check your results/ Information'\n        },\n        {\n          id: 17,\n          type: 'other',\n          question: 'NOVA -- View your Your Assessments and get your Coursework Submission Coversheets/ Get your student letter'\n        },\n        {\n          id: 18,\n          type: 'other',\n          question: 'Time table -- Check your course times and specific information'\n        },\n        {\n          id: 19,\n          type: 'other',\n          question: 'MODEL --  Check the specific content of your course'\n        },\n        {\n          id: 20,\n          type: 'other',\n          question: 'Moodle -- Coventry University online teaching platform'\n        }\n        \n      ],\n      record:[]\n    }\n  },\n  mounted(){\n    if(JSON.parse(localStorage.getItem(\"searchRecord\")).length>0) {\n      this.record = JSON.parse(localStorage.getItem(\"searchRecord\"));\n    }\n  },\n  methods: {\n    toInformation(type) {\n      this.$router.push({\n        path:'/info',\n        query:{\n          type:type\n        }\n      })\n    },\n    onSearch() {\n      this.$router.push({\n        path: '/preparation',\n        query: {\n          searchText: this.searchText\n        }\n      })\n      if(this.record.length > 5) {\n        this.record.shift()\n      }\n      this.record.push(this.searchText)\n      localStorage.setItem(\"searchRecord\",JSON.stringify(this.record))\n    },\n    query(list, keyWord, attribute) {\n      const reg = new RegExp((`(${keyWord})`),\"gi\") // 创建正则表达式\n      const arr = []\n      for (let i = 0; i < list.length; i++) {\n        if (reg.test(list[i][attribute])) {\n          let replace = '<span style=\"color:#FD463E;font-weight:bold;\">$1</span>'\n          arr.push(list[i][attribute].replace(reg, replace))\n        }\n      }\n      return arr\n    },\n    onChange() {\n      this.isShowCard = true\n      const that = this\n      if(this.searchText) {\n        setTimeout(function() {\n          that.questionArrayList = that.query(that.data,that.searchText,'question')\n        },1000)\n        console.log(that.questionArrayList)\n      }else {\n        this.questionArrayList = []\n        this.isShowCard = false\n      }\n    },\n    select(item) {\n      let matchTag =/<(?:.|s)*?>/g;\n      this.searchText = item.replace(matchTag,\"\");\n      this.isShowCard = false\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.main-page {\n  width: 100%;\n  height: 100%;\n  .img-box {\n    position: absolute;\n    top:10px;\n    left: 0px;\n  }\n  .search-box .search-card {\n    width: 100%;\n    margin-top:-20px;\n    z-index: 999;\n  }\n  .header {\n    background: #B2CAEB;\n    height: 250px;\n    display: flex;\n    justify-content: center;\n    .search-box {\n      width: 800px;\n      margin-top: 80px;\n      .title {\n        font-size: 24px;\n        font-weight: 900;\n        color: #000;\n        display: flex;\n        justify-content: center;\n      }\n      .sub-title {\n        margin-top: -40px;\n        display: flex;\n        justify-content: center;\n      }\n    }\n  }\n  .content {\n    padding-top: 50px;\n    height: 100%;\n    .content-item {\n      cursor: pointer;\n    }\n    .img-text{\n      position: absolute;\n      top: 50%;\n      left:50%;\n      transform:translate(-50%,-50%);\n      text-align:center;\n      font-size: 22px;\n      font-weight: 900;\n      color: #FFC300;\n      -webkit-text-stroke: 1px #000;\n    }\n  }\n  .record-card {\n    width: 300px;\n    position: absolute;\n    right: 20px;\n    top: 300px;\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}